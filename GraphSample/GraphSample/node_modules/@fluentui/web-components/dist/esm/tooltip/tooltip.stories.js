import addons from '@storybook/addons';
import { STORY_RENDERED } from '@storybook/core-events';
import { FluentDesignSystemProvider } from '../design-system-provider';
import TooltipTemplate from './fixtures/tooltip.html';
import { FluentTooltip } from '.';
// Prevent tree-shaking
FluentTooltip;
FluentDesignSystemProvider;
addons.getChannel().addListener(STORY_RENDERED, (name) => {
    if (name.toLowerCase().startsWith('tooltip')) {
        connectAnchors();
    }
});
function onAnchorMouseEnter(e) {
    if (e.target === null) {
        return;
    }
    const tooltipInstance = document.getElementById('tooltip-anchor-switch');
    tooltipInstance.anchorElement = e.target;
}
function connectAnchors() {
    document.querySelectorAll('fluent-button').forEach(el => {
        if (el !== null && el.id.startsWith('anchor-anchor-switch')) {
            el.onmouseenter = onAnchorMouseEnter;
        }
    });
}
export default {
    title: 'Tooltip',
};
export const Tooltip = () => TooltipTemplate;
