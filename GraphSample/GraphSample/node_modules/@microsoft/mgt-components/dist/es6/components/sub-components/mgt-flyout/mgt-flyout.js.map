{"version":3,"file":"mgt-flyout.js","sourceRoot":"src/","sources":["components/sub-components/mgt-flyout/mgt-flyout.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n\nimport { customElement, html, property, PropertyValues, TemplateResult } from 'lit-element';\nimport { classMap } from 'lit-html/directives/class-map';\nimport { getSegmentAwareWindow, isWindowSegmentAware, IWindowSegment } from '../../../utils/WindowSegmentHelpers';\nimport { styles } from './mgt-flyout-css';\nimport { MgtBaseComponent } from '@microsoft/mgt-element/';\n\n/**\n * A component to create flyout anchored to an element\n *\n * @export\n * @class MgtFlyout\n * @extends {LitElement}\n */\n@customElement('mgt-flyout')\nexport class MgtFlyout extends MgtBaseComponent {\n  /**\n   * Array of styles to apply to the element. The styles should be defined\n   * using the `css` tag function.\n   */\n  static get styles() {\n    return styles;\n  }\n\n  /**\n   * Gets or sets whether the flyout is light dismissible.\n   *\n   * @type {boolean}\n   * @memberof MgtFlyout\n   */\n  @property({\n    attribute: 'light-dismiss',\n    type: Boolean\n  })\n  public isLightDismiss: boolean;\n\n  /**\n   * Gets or sets whether the flyout should avoid rendering the flyout\n   * on top of the anchor\n   *\n   * @type {boolean}\n   * @memberof MgtFlyout\n   */\n  @property({\n    attribute: null,\n    type: Boolean\n  })\n  public avoidHidingAnchor: boolean;\n\n  /**\n   * Gets or sets whether the flyout is visible\n   *\n   * @type {string}\n   * @memberof MgtFlyout\n   */\n  @property({\n    attribute: 'isOpen',\n    type: Boolean\n  })\n  public get isOpen(): boolean {\n    return this._isOpen;\n  }\n  public set isOpen(value: boolean) {\n    const oldValue = this._isOpen;\n    if (oldValue === value) {\n      return;\n    }\n\n    this._isOpen = value;\n\n    window.requestAnimationFrame(() => {\n      this.setupWindowEvents(this.isOpen);\n      const flyout = this._flyout;\n      if (!this.isOpen && flyout) {\n        // reset style for next update\n        flyout.style.width = null;\n        flyout.style.setProperty('--mgt-flyout-set-width', null);\n        flyout.style.setProperty('--mgt-flyout-set-height', null);\n        flyout.style.maxHeight = null;\n        flyout.style.top = null;\n        flyout.style.left = null;\n        flyout.style.bottom = null;\n      }\n    });\n\n    this.requestUpdate('isOpen', oldValue);\n    this.dispatchEvent(new Event(value ? 'opened' : 'closed'));\n  }\n\n  // Minimum distance to render from window edge\n  private _edgePadding: number = 24;\n\n  // if the flyout is opened once, this will keep the flyout in the dom\n  private _renderedOnce = false;\n\n  private get _flyout(): HTMLElement {\n    return this.renderRoot.querySelector('.flyout');\n  }\n\n  private get _anchor(): HTMLElement {\n    return this.renderRoot.querySelector('.anchor');\n  }\n\n  private get _topScout(): HTMLElement {\n    return this.renderRoot.querySelector('.scout-top');\n  }\n\n  private get _bottomScout(): HTMLElement {\n    return this.renderRoot.querySelector('.scout-bottom');\n  }\n\n  private _isOpen: boolean;\n  private _smallView;\n  private _windowHeight;\n\n  constructor() {\n    super();\n\n    this.avoidHidingAnchor = true;\n\n    this.handleWindowEvent = this.handleWindowEvent.bind(this);\n    this.handleResize = this.handleResize.bind(this);\n    this.handleKeyUp = this.handleKeyUp.bind(this);\n\n    // handling when person-card is expanded and size changes\n    this.addEventListener('expanded', () => {\n      window.requestAnimationFrame(() => {\n        this.updateFlyout();\n      });\n    });\n  }\n\n  /**\n   * Show the flyout.\n   */\n  public open(): void {\n    this.isOpen = true;\n  }\n\n  /**\n   * Close the flyout.\n   */\n  public close(): void {\n    this.isOpen = false;\n  }\n\n  /**\n   * Invoked each time the custom element is disconnected from the document's DOM\n   *\n   * @memberof MgtFlyout\n   */\n  public disconnectedCallback() {\n    this.setupWindowEvents(false);\n    super.disconnectedCallback();\n  }\n\n  /**\n   * Invoked whenever the element is updated. Implement to perform\n   * post-updating tasks via DOM APIs, for example, focusing an element.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * @param changedProperties Map of changed properties with old values\n   */\n  protected updated(changedProps: PropertyValues) {\n    super.updated(changedProps);\n\n    window.requestAnimationFrame(() => {\n      this.updateFlyout();\n    });\n  }\n\n  /**\n   * Invoked on each update to perform rendering tasks. This method must return\n   * a lit-html TemplateResult. Setting properties inside this method will *not*\n   * trigger the element to update.\n   */\n  protected render() {\n    const flyoutClasses = {\n      dir: this.direction,\n      root: true,\n      visible: this.isOpen\n    };\n\n    const anchorTemplate = this.renderAnchor();\n    let flyoutTemplate = null;\n    this._windowHeight =\n      window.innerHeight && document.documentElement.clientHeight\n        ? Math.min(window.innerHeight, document.documentElement.clientHeight)\n        : window.innerHeight || document.documentElement.clientHeight;\n\n    if (this._windowHeight < 250) {\n      this._smallView = true;\n    }\n\n    if (this.isOpen || this._renderedOnce) {\n      this._renderedOnce = true;\n      flyoutTemplate = html`\n        <div class=${this._smallView ? 'flyout small' : 'flyout'} @wheel=${this.handleFlyoutWheel}>\n          ${this.renderFlyout()}\n        </div>\n      `;\n    }\n\n    return html`\n      <div class=${classMap(flyoutClasses)}>\n        <div class=\"anchor\">\n          ${anchorTemplate}\n        </div>\n        <div class=\"scout-top\"></div>\n        <div class=\"scout-bottom\"></div>\n        ${flyoutTemplate}\n      </div>\n    `;\n  }\n\n  /**\n   * Renders the anchor content.\n   *\n   * @protected\n   * @returns\n   * @memberof MgtFlyout\n   */\n  protected renderAnchor(): TemplateResult {\n    return html`\n      <slot></slot>\n    `;\n  }\n\n  /**\n   * Renders the flyout.\n   */\n  protected renderFlyout(): TemplateResult {\n    return html`\n      <slot name=\"flyout\"></slot>\n    `;\n  }\n\n  private updateFlyout() {\n    if (!this.isOpen) {\n      return;\n    }\n\n    const anchor = this._anchor;\n    const flyout = this._flyout;\n\n    if (flyout && anchor) {\n      const windowWidth =\n        window.innerWidth && document.documentElement.clientWidth\n          ? Math.min(window.innerWidth, document.documentElement.clientWidth)\n          : window.innerWidth || document.documentElement.clientWidth;\n\n      this._windowHeight =\n        window.innerHeight && document.documentElement.clientHeight\n          ? Math.min(window.innerHeight, document.documentElement.clientHeight)\n          : window.innerHeight || document.documentElement.clientHeight;\n\n      let left: number = 0;\n      let bottom: number;\n      let top: number = 0;\n      let height: number;\n      let width: number;\n\n      const flyoutRect = flyout.getBoundingClientRect();\n      const anchorRect = anchor.getBoundingClientRect();\n      const topScoutRect = this._topScout.getBoundingClientRect();\n      const bottomScoutRect = this._bottomScout.getBoundingClientRect();\n\n      const windowRect: IWindowSegment = {\n        height: this._windowHeight,\n        left: 0,\n        top: 0,\n        width: windowWidth\n      };\n\n      if (isWindowSegmentAware()) {\n        const segmentAwareWindow = getSegmentAwareWindow();\n        const screenSegments = segmentAwareWindow.getWindowSegments();\n\n        let anchorSegment: IWindowSegment;\n\n        const anchorCenterX = anchorRect.left + anchorRect.width / 2;\n        const anchorCenterY = anchorRect.top + anchorRect.height / 2;\n\n        for (const segment of screenSegments) {\n          if (anchorCenterX >= segment.left && anchorCenterY >= segment.top) {\n            anchorSegment = segment;\n            break;\n          }\n        }\n\n        if (anchorSegment) {\n          windowRect.left = anchorSegment.left;\n          windowRect.top = anchorSegment.top;\n          windowRect.width = anchorSegment.width;\n          windowRect.height = anchorSegment.height;\n        }\n      }\n\n      if (flyoutRect.width + 2 * this._edgePadding > windowRect.width) {\n        if (flyoutRect.width > windowRect.width) {\n          // flyout is wider than the window\n          width = windowRect.width;\n          left = 0;\n        } else {\n          // center in between\n          left = (windowRect.width - flyoutRect.width) / 2;\n        }\n      } else if (anchorRect.left + flyoutRect.width + this._edgePadding > windowRect.width) {\n        // it will render off screen to the right, move to the left\n        left = anchorRect.left - (anchorRect.left + flyoutRect.width + this._edgePadding - windowRect.width);\n      } else if (anchorRect.left < this._edgePadding) {\n        // it will render off screen to the left, move to the right\n        left = this._edgePadding;\n      } else {\n        left = anchorRect.left;\n      }\n\n      const anchorRectBottomToWindowBottom = windowRect.height - (anchorRect.top + anchorRect.height);\n      const anchorRectTopToWindowTop = anchorRect.top;\n\n      if (this.avoidHidingAnchor) {\n        if (anchorRectBottomToWindowBottom <= flyoutRect.height) {\n          if (anchorRectTopToWindowTop < flyoutRect.height) {\n            if (anchorRectTopToWindowTop > anchorRectBottomToWindowBottom) {\n              // more room top than bottom - render above\n              bottom = windowRect.height - anchorRect.top;\n              height = anchorRectTopToWindowTop;\n            } else {\n              // more room bottom than top\n              top = anchorRect.bottom;\n              height = anchorRectBottomToWindowBottom;\n            }\n          } else {\n            // render above anchor\n            bottom = windowRect.height - anchorRect.top;\n            height = anchorRectTopToWindowTop;\n          }\n        } else {\n          top = anchorRect.bottom;\n          height = anchorRectBottomToWindowBottom;\n        }\n      } else {\n        if (flyoutRect.height + 2 * this._edgePadding > windowRect.height) {\n          // flyout wants to be higher than the window hight, and we don't need to avoid hiding the anchor\n          // make the flyout height the height of the window\n          if (flyoutRect.height >= windowRect.height) {\n            height = windowRect.height;\n            top = 0;\n          } else {\n            top = (windowRect.height - flyoutRect.height) / 2;\n          }\n        } else {\n          if (anchorRect.top + anchorRect.height + flyoutRect.height + this._edgePadding > windowRect.height) {\n            // it will render offscreen bellow, move it up a bit\n            top = windowRect.height - flyoutRect.height - this._edgePadding;\n          } else {\n            top = Math.max(anchorRect.top + anchorRect.height, this._edgePadding);\n          }\n        }\n      }\n\n      // check the scout is positioned where it is supposed to be\n      // if it's not, then we are no longer fixed position and should assume\n      // absolute positioning\n      // this is a workaround when a transform is applied to a parent\n      // https://stackoverflow.com/questions/42660332/css-transform-parent-and-fixed-child\n      if (topScoutRect.top !== 0 || topScoutRect.left !== 0) {\n        left -= topScoutRect.left;\n\n        if (typeof bottom !== 'undefined') {\n          bottom += bottomScoutRect.top - this._windowHeight;\n        } else {\n          top -= topScoutRect.top;\n        }\n      }\n\n      if (this.direction === 'rtl') {\n        if (left > 100 && this.offsetLeft > 100) {\n          // potentially anchored to right side (for non people-picker flyout)\n          flyout.style.left = `${windowRect.width - left + flyoutRect.left - flyoutRect.width - 30}px`;\n        }\n      } else {\n        flyout.style.left = `${left + windowRect.left}px`;\n      }\n\n      if (typeof bottom !== 'undefined') {\n        flyout.style.top = 'unset';\n        flyout.style.bottom = `${bottom}px`;\n      } else {\n        flyout.style.bottom = 'unset';\n        flyout.style.top = `${top + windowRect.top}px`;\n      }\n\n      if (width) {\n        // if we had to set the width, recalculate since the height could have changed\n        flyout.style.width = `${width}px`;\n        flyout.style.setProperty('--mgt-flyout-set-width', `${width}px`);\n        window.requestAnimationFrame(() => this.updateFlyout());\n      }\n\n      if (height) {\n        flyout.style.maxHeight = `${height}px`;\n        flyout.style.setProperty('--mgt-flyout-set-height', `${height}px`);\n      } else {\n        flyout.style.maxHeight = null;\n        flyout.style.setProperty('--mgt-flyout-set-height', `unset`);\n      }\n    }\n  }\n\n  private setupWindowEvents(isOpen: boolean) {\n    if (isOpen && this.isLightDismiss) {\n      window.addEventListener('wheel', this.handleWindowEvent);\n      window.addEventListener('pointerdown', this.handleWindowEvent);\n      window.addEventListener('resize', this.handleResize);\n      window.addEventListener('keyup', this.handleKeyUp);\n    } else {\n      window.removeEventListener('wheel', this.handleWindowEvent);\n      window.removeEventListener('pointerdown', this.handleWindowEvent);\n      window.removeEventListener('resize', this.handleResize);\n      window.removeEventListener('keyup', this.handleKeyUp);\n    }\n  }\n\n  private handleWindowEvent(e: Event) {\n    const flyout = this._flyout;\n\n    if (flyout) {\n      // IE\n      if (!e.composedPath) {\n        let currentElem = e.target as HTMLElement;\n        while (currentElem) {\n          currentElem = currentElem.parentElement;\n          if (currentElem === flyout || (e.type === 'pointerdown' && currentElem === this)) {\n            return;\n          }\n        }\n      } else {\n        const path = e.composedPath();\n        if (path.includes(flyout) || (e.type === 'pointerdown' && path.includes(this))) {\n          return;\n        }\n      }\n    }\n\n    this.close();\n  }\n\n  private handleResize(e: Event) {\n    this.close();\n  }\n\n  private handleKeyUp(e: KeyboardEvent) {\n    if (e.key === 'Escape') {\n      this.close();\n    }\n  }\n\n  private handleFlyoutWheel(e: Event) {\n    e.preventDefault();\n  }\n}\n"]}